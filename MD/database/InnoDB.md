MyIsam 和 InnoDB 区别
- `count(*)`: MyIsam会直接存储总行数，InnoDB按行扫描
- 全文索引
- 事务
- 外键
- 表锁与行锁

InnoDB的行锁是实现在索引上的，如果没有命中索引，也无法使用行锁，将要退化为表锁

#### InnoDB 行锁机制
默认隔离级别： Repeated Read
- 读取到的数据，都是其他事务已提交数据
- 同一个事务，相同的连续读，得到的结果应该是相同的
- 不会出现insert幻读

#### 并发控制，锁，事务模型
共享锁与排他锁

#### MVCC 多版本并发控制
- 普通锁：本质是串行执行
- 读写锁：可以实现读读并发
- 数据多版本：可以实现读写并发（写新版本同时可以读旧版本）

InnoDB 的内核，会对一行数据增加三个隐藏属性：
1. DB_TRX_ID，记录每一行最近一次修改的事务ID
2. DB_ROLL_PTR，记录指向回滚段undo日志的指针
3. DB_ROW_ID，单调递增的行ID
