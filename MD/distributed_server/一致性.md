#### 数据库和缓存双写一致性
缓存更新策略

- 先删除缓存，再更新数据库
```
延时双删策略，将1秒内所造成的缓存脏数据，再次删除
void write(String key,Object data){
    redis.delKey(key);
    db.updateData(data);
    Thread.sleep(1000);
    redis.delKey(key);
}
```

- 先更新数据库，再删除缓存